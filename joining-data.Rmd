---
title: "Joining Data"
output: html_notebook
editor_options: 
  chunk_output_type: inline
---

# Structure
In this step, I am going to combine the wide versions of Bolivia merged, 2016, and 18 using joins.

```{r}
#Contains `rbind_labelled()`
library(rdhs)

#Remove all but function
library(varhandle)
```

Refreshing memory to do joins.
```{r}
rm.all.but(c("bolivia_unique_unfactor", "bolivia_unique_factor",
           "bolivia_16_unfactor", "bolivia_16_factor",
           "bolivia_18_unfactor","bolivia_18_factor"))
```

```{r}
bolivia_16_unfactor <- bolivia_16_unfactor %>% 
  transform(idnum = as.character(idnum))
bolivia_18_unfactor <- bolivia_18_unfactor %>% 
  transform(idnum = as.character(idnum))

unfactor_combined <- full_join(bolivia_unique_unfactor, bolivia_16_unfactor, by = "pais")
unfactor_combined <- full_join(test, bolivia_18_unfactor, by = "pais")
```




# !DO NOT USE REFERENCE ONLY
```{r}
bolivia_16_unfactor <- bolivia_16_unfactor %>% 
  transform(idnum = as.character(idnum))
bolivia_18_unfactor <- bolivia_18_unfactor %>% 
  transform(idnum = as.character(idnum))

unfactor_combined <- union_all(bolivia_unique_unfactor, bolivia_16_unfactor)
unfactor_combined <- union_all(test, bolivia_18_unfactor)
```

```{r}
bolivia_16_factor <- bolivia_16_factor %>% 
  transform(idnum_factor = as.character(idnum_factor))
bolivia_18_factor <- bolivia_18_factor %>% 
  transform(idnum_factor = as.character(idnum_factor))

factor_combined <- rbind_labelled(bolivia_unique_factor, bolivia_16_factor)
factor_combined <- union_all(test, bolivia_18_factor)
```

Thought I found a way around merging the data, but there is an issue with the number of columns. I think I will look into combining the unfactored and factored for each wave respectively.

Then maybe will do a join later on.

```{r}
test <- rbind_labelled(bolivia_16_factor, bolivia_16_unfactor)
```

